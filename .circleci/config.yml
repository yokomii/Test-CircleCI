version: 2.1

parameters:
  run_release_build:
    type: boolean
    default: false

executors:
  default:
    docker:
      - image: circleci/android:api-28

  assemble_release:
    executor:
      name: default
    steps:
      - checkout
      - run:
          name: Build Rlease APK
          command: ./gradlew assembleRelease

workflows:
  version: 2

  release:
    when: << pipeline.parameters.run_release_build >>
    jobs:
      - assemble_release
